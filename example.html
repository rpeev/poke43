<!DOCTYPE html>

<html lang="en" style="font-family: Avenir, sans-serif;">
  <head>
    <meta charset="utf-8" />

    <title>Poke43 - example</title>

    <link rel="stylesheet" href="https://unpkg.com/peek42@latest/monofur.css" />
    <link rel="stylesheet" href="https://unpkg.com/peek42@latest/peek42.css" />
    <link rel="stylesheet" href="https://unpkg.com/poke43@latest/poke43.css" />
    <script src="https://unpkg.com/apivis@latest/apivis.js"></script>
    <script src="https://unpkg.com/peek42@latest/peek42.js"></script>
    <script src="https://unpkg.com/hammerjs@latest/hammer.js"></script>
    <script src="https://unpkg.com/poke43@latest/poke43.js"></script>

    <style>
.flex-row-center {
  display: flex;
  flex-flow: row wrap;
  justify-content: center;
  align-items: center;
}

.frame {
  border: 1px solid gray;
  border-radius: 0.5ex;
  box-shadow: 0 0 1em gray;
}
    </style>

    <script>
function pageEnv() {
  let snip = (str, n) => str.trimLeft().
    replace(/\s+/gm, ' ').
    substr(0, n) + ((n < str.length) ? '...' : '');

  return [].slice.call(document.scripts).
    map(script => script.src || 'code: ' + snip(script.textContent, 101)).
    join('\n');
}

//Peek42.noop();

document.addEventListener('DOMContentLoaded', function () {
  let editor = new poke43.Editor(document.getElementById('editor')),
    keyboard = new poke43.Keyboard(document.getElementById('keyboard'));

  //p(pageEnv(), 'Environment');

  ['eq', 'plus', 'amp', 'ka-ching', 'num1', 'num2'].forEach(k => {
    new poke43.EditorKeySym(document.getElementById(`key-${k}`), editor);
  });
  ['q', 'w', 'e', 'r', 't', 'y', 'u', 'i', 'o', 'p'].forEach(k => {
    new poke43.EditorKeyChar(document.getElementById(`key-${k}`), editor);
  });
  ['a', 's', 'd', 'f', 'g', 'h', 'j', 'k', 'l', 'paren'].forEach(k => {
    new poke43.EditorKeyChar(document.getElementById(`key-${k}`), editor);
  });
  ['z', 'x', 'c', 'v', 'b', 'n', 'm', 'dot', 'bang', 'quot'].forEach(k => {
    new poke43.EditorKeyChar1(document.getElementById(`key-${k}`), editor);
  });
});
    </script>
  </head>

  <body>
<h1 id="about">Poke43 - example [<a href="./index.html">Index</a>]</h1>

<div id="editor"></div>
<div class="flex-row-center" id="keyboard">
  <table class="frame">
    <tr>
      <td id="key-eq"
        data-text="="
        data-text1="/"
        data-text2=">"
        data-text3="<"
        data-text4="\">=</td>
      <td id="key-plus"
        data-text="+"
        data-text1="*"
        data-text2="%"
        data-text3="_"
        data-text4="-">+</td>
      <td id="key-amp"
        data-text="&"
        data-text1="~"
        data-text2="#"
        data-text3="^"
        data-text4="|">&amp;</td>
      <td id="key-ka-ching"
        data-text="$"
        data-text4="@">$</td>
      <td id="key-num1"
        data-text="0"
        data-text1="1"
        data-text2="2"
        data-text3="3"
        data-text4="4">0</td>
      <td id="key-num2"
        data-text="5"
        data-text1="6"
        data-text2="7"
        data-text3="8"
        data-text4="9">5</td>
    </tr>
    <tr>
      <td id="key-q" data-text="q">q</td>
      <td id="key-w" data-text="w">w</td>
      <td id="key-e" data-text="e">e</td>
      <td id="key-r" data-text="r">r</td>
      <td id="key-t" data-text="t">t</td>
      <td id="key-y" data-text="y">y</td>
      <td id="key-u" data-text="u">u</td>
      <td id="key-i" data-text="i">i</td>
      <td id="key-o" data-text="o">o</td>
      <td id="key-p" data-text="p">p</td>
    </tr>
    <tr>
      <td id="key-a" data-text="a">a</td>
      <td id="key-s" data-text="s">s</td>
      <td id="key-d" data-text="d">d</td>
      <td id="key-f" data-text="f">f</td>
      <td id="key-g" data-text="g">g</td>
      <td id="key-h" data-text="h">h</td>
      <td id="key-j" data-text="j">j</td>
      <td id="key-k" data-text="k">k</td>
      <td id="key-l" data-text="l">l</td>
      <td class="poke43-key-delim" id="key-paren"
        data-text="()"
        data-text1="{}"
        data-text3="[]">( )</td>
    </tr>
    <tr>
      <td id="key-z" data-text="z">z</td>
      <td id="key-x" data-text="x">x</td>
      <td id="key-c" data-text="c">c</td>
      <td id="key-v" data-text="v">v</td>
      <td id="key-b" data-text="b">b</td>
      <td id="key-n" data-text="n">n</td>
      <td id="key-m" data-text="m">m</td>
      <td class="poke43-key-punct" id="key-dot"
        data-text="."
        data-text1=";"
        data-text3=",">.</td>
      <td class="poke43-key-punct" id="key-bang"
        data-text="!"
        data-text1="?"
        data-text3=":">!</td>
      <td class="poke43-key-delim" id="key-quot"
        data-text='""'
        data-text1="``"
        data-text3="''">""</td>
    </tr>
  </table>
</div>

<ul>
  <li>tap - primary symbol(s)</li>
  <li>swipe character key up - upcase character</li>
  <li>swipe green border character key down - space</li>
  <li>swipe red border character key down - enter</li>
  <li>swipe green border key left/right - move (one symbol)</li>
  <li>swipe red border key left/right - delete (one symbol)</li>
  <li>swipe gray key up/down - secondary symbol(s)</li>
  <li>swipe blue key diagonally (all directions) - secondary symbol(s)</li>
</ul>
  </body>
</html>
